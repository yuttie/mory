# Internationalization (i18n) Framework

This document describes the internationalization framework implemented in Mory's frontend.

## Overview

The application uses Vue I18n v8 for internationalization, compatible with Vue 2.7. The framework provides:

- Multi-language support with English (en) and Japanese (ja) locales
- Automatic language detection from browser settings
- Language persistence in local storage
- Easy translation management through JSON files

## File Structure

```
src/
├── locales/
│   ├── en.json      # English translations
│   └── ja.json      # Japanese translations
└── plugins/
    └── i18n.ts      # i18n configuration and utilities
```

## Usage

### In Vue Components (Template)

```vue
<template>
  <div>
    <h1>{{ $t('config.title') }}</h1>
    <v-btn :label="$t('common.save')">
    <v-text-field :label="$t('files.search_placeholder')" />
  </div>
</template>
```

### In Vue Components (Script)

```typescript
import { useI18n } from '@/plugins/i18n';

export default {
  setup() {
    const { t } = useI18n();
    
    const title = computed(() => t('config.title'));
    
    return { title };
  }
}
```

### Outside Components

```typescript
import { useI18n } from '@/plugins/i18n';

const { t } = useI18n();
console.log(t('common.loading'));
```

## Changing Language

The language can be changed through the Config view or programmatically:

```typescript
import { setLocale } from '@/plugins/i18n';

setLocale('ja'); // Switch to Japanese
setLocale('en'); // Switch to English
```

## Adding New Languages

1. Create a new JSON file in `src/locales/` (e.g., `fr.json`)
2. Add translations following the existing structure
3. Update `availableLocales` in `src/plugins/i18n.ts`
4. Import the new locale in the messages object

## Translation Keys Structure

```json
{
  "common": {
    "search": "Search",
    "loading": "Loading...",
    "save": "Save"
  },
  "navigation": {
    "files": "Files",
    "config": "Config"
  },
  "files": {
    "title": "Files",
    "search_placeholder": "Search"
  },
  "config": {
    "title": "Config",
    "language": "Language"
  }
}
```

## Configuration

The i18n system automatically:
- Detects browser language on first visit
- Falls back to English if browser language is not supported
- Saves language preference to localStorage
- Sets HTML lang attribute for accessibility

Current supported locales:
- English (en)
- Japanese (ja)

## Best Practices

1. **Organize keys logically** - Group related translations by feature/component
2. **Use descriptive key names** - Make it clear what the text is for
3. **Keep fallbacks** - Always provide English translations
4. **Test thoroughly** - Verify translations work in all supported languages
5. **Consider text length** - Different languages may have different text lengths

## Implementation Notes

- The framework is integrated into Vue 2.7 using vue-i18n v8
- Language switching triggers immediate UI updates
- Document title updates automatically with language changes
- HTML lang attribute updates for accessibility